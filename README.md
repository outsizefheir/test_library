# Тестовое. Система управления библиотекой

## Структура файлов и их роль:

- **`main.py`**: Точка входа в приложение.

1. **`Book`**
   - Модель данных для книги:
     - Атрибуты: `id`, `title`, `author`, `year`, `status`.
     - Выполняет валидацию данных через `Pydantic`.

2. **`Reader`**
   - Читает и преобразует данные из файла JSON.
   - Основные методы:
     - **`iterate_objects()`**: Генерирует объекты `Book` из строк файла.
     - **`read_object()`**: Преобразует строку JSON в экземпляр `Book`.

3. **`Library`**
   - Контролирует основные операции с библиотекой.
   - Основные методы:
     - **`_check_storage()`**: Создаёт файл хранилища, если он отсутствует.
     - **`_get_last_id()`**: Определяет последний использованный ID.
     - **`_validate_book()`**: Проверяет корректность данных книги.
     - **`add_book()`**: Добавляет новую книгу в хранилище.
     - **`remove_book()`**: Удаляет книгу по её ID.
     - **`search_books()`**: Ищет книги по заданным параметрам.
     - **`change_status()`**: Изменяет статус книги (выдана/в наличии).

4. **`Menu`**
   - Управляет взаимодействием с пользователем.
   - Основные методы:
     - **`display_menu()`**: Отображает список доступных команд.
     - **`run()`**: Запускает цикл взаимодействия с пользователем, обрабатывая ввод.
     - **`add_view()`**: Интерфейс для добавления книги.
     - **`remove_view()`**: Интерфейс для удаления книги.
     - **`search_view()`**: Интерфейс для поиска книг.
     - **`display_view()`**: Отображает все книги в виде таблицы.
     - **`status_view()`**: Интерфейс для изменения статуса книги.

---

## Стек

- **Python-библиотеки**:
    - `pydantic`: для валидации данных.
    - `rich`: для улучшенного отображения в терминале.
    - `os` и `json`: для работы с файлами.
- **Хранилище**:
    - JSON-файл для сохранения данных (например, `books.txt`).

